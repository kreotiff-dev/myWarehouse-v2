<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Руководство по объектам Postman</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/tokyo-night-dark.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            postman: {
              orange: '#FF6C37',
              dark: '#e85a25',
              light: 'rgba(255, 108, 55, 0.1)'
            }
          },
          fontFamily: {
            sans: ['Inter', 'sans-serif']
          }
        }
      }
    }
    
    document.addEventListener("DOMContentLoaded", () => {
      hljs.highlightAll();
      
      // Только для копирования кода
      document.querySelectorAll("pre").forEach(pre => {
        const button = document.createElement("button");
        button.innerText = "Копировать";
        button.className = "absolute top-2 right-2 bg-white/10 text-white/80 text-xs px-2 py-1 rounded hover:bg-white/20";
        button.addEventListener("click", () => {
          const text = pre.querySelector("code").innerText;
          navigator.clipboard.writeText(text).then(() => {
            button.innerText = "Скопировано!";
            setTimeout(() => button.innerText = "Копировать", 1500);
          });
        });
        pre.appendChild(button);
      });
    });
  </script>
</head>
<body class="font-sans bg-gray-50 text-gray-800">
  <!-- Заголовок -->
  <header class="bg-gradient-to-r from-postman-orange to-postman-dark text-white py-8 relative overflow-hidden shadow-md">
    <div class="container mx-auto px-4 relative z-10">
      <h1 class="text-4xl font-bold tracking-tight mb-2">Руководство по объектам Postman</h1>
      <p class="text-lg font-light opacity-90 max-w-2xl">Подробное описание JavaScript-объектов Postman с примерами и рекомендациями</p>
    </div>
    <!-- Декоративный элемент -->
    <div class="absolute top-0 right-0 w-full h-full opacity-20">
      <div class="absolute -top-1/4 -right-1/4 w-1/2 h-full bg-white/20 rounded-full transform rotate-45"></div>
    </div>
  </header>

  <!-- Основной контент -->
  <div class="container mx-auto px-4 py-8">
    <div class="flex flex-col lg:flex-row gap-8">
      
      <!-- Боковое меню -->
      <div class="lg:w-64 flex-shrink-0">
        <div class="sticky top-24 bg-white rounded-xl p-5 shadow-sm border border-gray-100">
          <h3 class="font-semibold text-lg mb-4 pb-3 border-b border-gray-100">Содержание</h3>
          <ul class="space-y-1 text-gray-600" id="sidebar-nav">
            <li>
              <a href="#intro" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">Введение</a>
            </li>
            <li>
              <a href="#section1" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">pm.request</a>
            </li>
            <li>
              <a href="#section2" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">pm.response</a>
            </li>
            <li>
              <a href="#section3" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">pm.variables</a>
            </li>
            <li>
              <a href="#section4" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">pm.environment</a>
            </li>
            <li>
              <a href="#section5" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">pm.globals</a>
            </li>
            <li>
              <a href="#section6" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">pm.collectionVariables</a>
            </li>
            <li>
              <a href="#section7" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">pm.cookies</a>
            </li>
            <li>
              <a href="#section8" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">pm.cookies.jar</a>
            </li>
            <li>
              <a href="#section9" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">pm.vault</a>
            </li>
            <li>
              <a href="#section10" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">pm.sendRequest</a>
            </li>
            <li>
              <a href="#section11" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">pm.test</a>
            </li>
            <li>
              <a href="#section12" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">pm.expect</a>
            </li>
            <li>
              <a href="#section13" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">pm.info</a>
            </li>
            <li>
              <a href="#section14" class="block py-2 px-3 rounded hover:bg-postman-light hover:text-postman-orange border-l-2 border-transparent hover:border-postman-orange transition-all duration-200">pm.iterationData</a>
            </li>
          </ul>
        </div>
      </div>
      
      <!-- Основной контент -->
      <div class="flex-1 max-w-3xl">
        <!-- Вводный блок -->
        <section id="intro" class="mb-10 pt-8 -mt-8">
          <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
            <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
              <h2 class="text-xl font-semibold text-gray-800">Введение в Postman скрипты</h2>
            </div>
            <div class="p-6">
              <p class="text-gray-600 mb-4">Скрипты Postman — это JavaScript-код, который выполняется в двух местах жизненного цикла запроса:</p>
              <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
                <li><strong>Pre-request Script</strong> — выполняется перед отправкой запроса, позволяет подготовить данные</li>
                <li><strong>Tests</strong> — выполняется после получения ответа, позволяет проверить ответ и сохранить данные</li>
              </ul>
              <p class="text-gray-600 mb-4">Postman предоставляет набор специальных объектов с префиксом <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.</code>, которые позволяют взаимодействовать с запросами, ответами, переменными и другими компонентами Postman. Эта страница содержит подробное описание основных объектов с примерами и рекомендациями по использованию.</p>
              
              <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                <h3 class="font-semibold text-gray-700 mb-2">Примечание</h3>
                <p class="text-gray-600">В скриптах Postman используется стандартный JavaScript с некоторыми ограничениями в браузерном окружении. Помимо объектов <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.*</code>, вы можете использовать многие стандартные объекты JavaScript, такие как <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">Array</code>, <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">Object</code>, <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">String</code>, <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">Date</code>, и библиотеки для тестирования.</p>
              </div>
            </div>
          </div>
        </section>

        <!-- Секция 1 - pm.request -->
        <section id="section1" class="mb-10 pt-8 -mt-8">
          <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
            <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
              <h2 class="text-xl font-semibold text-gray-800">1. pm.request</h2>
            </div>
            <div class="p-6">
              <div class="flex flex-wrap gap-2 mb-4">
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Запрос</span>
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">URL</span>
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Метод</span>
              </div>
              
              <p class="text-gray-600 mb-4">
                Объект <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.request</code> предоставляет доступ к данным текущего HTTP-запроса. Он доступен как в скрипте Pre-request, так и в скрипте Tests, позволяя читать и модифицировать различные части запроса до его отправки, а также анализировать отправленный запрос после получения ответа.
              </p>
              
              <!-- Доступные свойства и методы -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Основные свойства и методы</h3>
              <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.request.method</code> — HTTP-метод запроса (GET, POST, PUT, DELETE и т.д.)</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.request.url</code> — URL-объект, содержащий различные компоненты URL</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.request.headers</code> — заголовки запроса с методами get(), has(), all()</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.request.body</code> — тело запроса (для методов POST, PUT и т.д.)</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.request.addQueryParams()</code> — добавляет query-параметры к URL</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.request.removeQueryParams()</code> — удаляет query-параметры из URL</li>
              </ul>
              
              <!-- Типичные сценарии использования -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные сценарии использования</h3>
              <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Динамическое добавление заголовков авторизации перед отправкой запроса</li>
                  <li>Изменение URL или параметров запроса на основе переменных</li>
                  <li>Проверка отправленных данных в тестах</li>
                  <li>Логирование деталей запроса для отладки</li>
                </ul>
              </div>
              
              <!-- Примеры кода -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Пример базового использования</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// Базовый пример
console.log(pm.request.method); // Выводит метод запроса, например, "GET"
console.log(pm.request.url.toString()); // Выводит полный URL запроса
console.log(pm.request.headers.get("Content-Type")); // Выводит значение заголовка Content-Type</code>
                  </pre>
                </div>
              </details>
              
              <!-- Работа с URL и параметрами -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Работа с URL и параметрами</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// Доступ к компонентам URL
const url = pm.request.url;
console.log(url.protocol); // http, https
console.log(url.host);     // например, api.example.com
console.log(url.path);     // массив сегментов пути [users, 123]
console.log(url.port);     // номер порта, если указан
console.log(url.query);    // массив параметров запроса

// Добавление query-параметров
pm.request.addQueryParams([
  { key: "limit", value: "10" },
  { key: "offset", value: "20" }
]);

// Удаление query-параметра
pm.request.removeQueryParams("sessionId");</code>
                  </pre>
                </div>
              </details>
              
              <!-- Работа с заголовками -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Работа с заголовками</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// Добавление авторизационного заголовка перед отправкой запроса
const token = pm.environment.get("authToken");
pm.request.headers.add({
  key: "Authorization",
  value: `Bearer ${token}`
});

// Проверка наличия заголовка
if (pm.request.headers.has("x-custom-header")) {
  console.log("Заголовок x-custom-header присутствует");
}

// Получение всех заголовков
const allHeaders = pm.request.headers.all();
console.log(allHeaders); // Массив всех заголовков</code>
                  </pre>
                </div>
              </details>
              
              <!-- Советы и лучшие практики -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Советы и рекомендации</h3>
              <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Используйте pm.request в Pre-request скриптах для динамического изменения запроса</li>
                  <li>При работе с телом запроса учитывайте его формат (form-data, raw, urlencoded)</li>
                  <li>Для удобства работы с URL используйте отдельные методы (path, query) вместо изменения полного URL</li>
                  <li>Заголовки чувствительны к регистру, но Postman обычно нормализует их при отправке</li>
                </ul>
              </div>
              
              <!-- Типичные ошибки -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные ошибки</h3>
              <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Попытка изменить метод запроса через скрипт (pm.request.method доступен только для чтения)</li>
                  <li>Прямая модификация URL без использования специальных методов</li>
                  <li>Забывать, что изменения в pm.request влияют только на текущее выполнение запроса</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- Секция 2 - pm.response -->
        <section id="section2" class="mb-10 pt-8 -mt-8">
          <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
            <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
              <h2 class="text-xl font-semibold text-gray-800">2. pm.response</h2>
            </div>
            <div class="p-6">
              <div class="flex flex-wrap gap-2 mb-4">
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Ответ</span>
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Статус-код</span>
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">JSON</span>
              </div>
              
              <!-- Расширенное описание -->
              <p class="text-gray-600 mb-4">
                Объект <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.response</code> предоставляет доступ к данным полученного ответа на запрос. Этот объект доступен только в скрипте Tests (после выполнения запроса) и содержит статус-код, заголовки, тело ответа и другие метаданные, полученные от сервера.
              </p>
              
              <!-- Доступные свойства и методы -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Основные свойства и методы</h3>
              <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.response.code</code> — возвращает статус-код ответа (200, 404, 500 и т.д.)</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.response.status</code> — текстовое описание статуса (OK, Not Found)</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.response.headers</code> — доступ к заголовкам ответа</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.response.responseTime</code> — время выполнения запроса в миллисекундах</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.response.text()</code> — возвращает тело ответа как текст</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.response.json()</code> — парсит тело ответа как JSON-объект</li>
              </ul>
              
              <!-- Типичные сценарии использования -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные сценарии использования</h3>
              <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Проверка успешности запроса через статус-код</li>
                  <li>Извлечение данных из JSON-ответа для использования в следующих запросах</li>
                  <li>Валидация структуры и содержимого ответа API</li>
                  <li>Измерение производительности API (через responseTime)</li>
                </ul>
              </div>
              
              <!-- Примеры кода -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Пример базового использования</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">console.log(pm.response.code); // Выводит статус-код, например, 200
console.log(pm.response.json()); // Парсит тело ответа как JSON
console.log(pm.response.headers.get("Content-Type")); // Выводит заголовок Content-Type ответа
pm.test("Статус-код 200", () => {
    pm.expect(pm.response.code).to.equal(200);
});</code>
                  </pre>
                </div>
              </details>
              
              <!-- Обработка разных форматов -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Обработка разных форматов ответа</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// JSON-ответ
const jsonData = pm.response.json();
pm.environment.set("userId", jsonData.user.id);

// XML-ответ
const xmlData = pm.response.text();
const parser = new DOMParser();
const xmlDoc = parser.parseFromString(xmlData, "text/xml");
const value = xmlDoc.getElementsByTagName("status")[0].textContent;

// HTML-ответ
const htmlData = pm.response.text();
const titleRegex = /&lt;title&gt;(.*?)&lt;\/title&gt;/;
const matches = htmlData.match(titleRegex);
const title = matches ? matches[1] : null;</code>
                  </pre>
                </div>
              </details>
              
              <!-- Советы и лучшие практики -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Советы и рекомендации</h3>
              <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Всегда проверяйте статус-код перед обработкой тела ответа</li>
                  <li>Используйте <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">try/catch</code> при вызове <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.response.json()</code>, если не уверены, что ответ является валидным JSON</li>
                  <li>Сохраняйте часто используемые значения из ответа в переменные окружения, чтобы использовать их в следующих запросах</li>
                  <li>Для сложных проверок JSON создавайте составные тесты с использованием <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.expect()</code></li>
                </ul>
              </div>
              
              <!-- Типичные ошибки -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные ошибки</h3>
              <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li>Попытка использовать <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.response</code> в скрипте Pre-request</li>
                    <li>Вызов <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.response.json()</code> без проверки типа ответа</li>
                    <li>Вызов <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.response.json()</code> несколько раз, что ведет к повторной обработке</li>
                    <li>Забывать обрабатывать пустые ответы или null-значения</li>
                  </ul>
                </div>
              </div>
            </div>
          </section>
  
          <!-- Секция 3 - pm.variables -->
          <section id="section3" class="mb-10 pt-8 -mt-8">
            <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
              <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
                <h2 class="text-xl font-semibold text-gray-800">3. pm.variables</h2>
              </div>
              <div class="p-6">
                <div class="flex flex-wrap gap-2 mb-4">
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Переменные</span>
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Доступ</span>
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Все уровни</span>
                </div>
                
                <!-- Расширенное описание -->
                <p class="text-gray-600 mb-4">
                  Объект <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.variables</code> обеспечивает универсальный доступ к переменным Postman из любого контекста (локальные, глобальные, окружения, коллекции). Это основной способ работы с переменными, который автоматически обрабатывает приоритеты переменных из разных областей видимости.
                </p>
                
                <!-- Иерархия переменных -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Иерархия и приоритеты переменных</h3>
                <p class="text-gray-600 mb-4">При доступе через <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.variables.get()</code>, Postman проверяет переменные в следующем порядке:</p>
                <ol class="list-decimal list-inside space-y-1 text-gray-600 mb-4 pl-2">
                  <li>Переменные временной области (Local variables)</li>
                  <li>Переменные окружения (Environment variables)</li>
                  <li>Переменные коллекции (Collection variables)</li>
                  <li>Глобальные переменные (Global variables)</li>
                </ol>
                <p class="text-gray-600 mb-4">Если переменная с одинаковым именем существует в нескольких областях, будет использовано значение с наивысшим приоритетом.</p>
                
                <!-- Доступные методы -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Основные методы</h3>
                <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.variables.get("variableName")</code> — получение значения переменной</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.variables.set("variableName", value)</code> — установка значения переменной</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.variables.has("variableName")</code> — проверка существования переменной</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.variables.replaceIn("текст {{variableName}}")</code> — подстановка значений переменных в строку</li>
                </ul>
                
                <!-- Типичные сценарии использования -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные сценарии использования</h3>
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                  <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li>Получение данных из любой области видимости без беспокойства о приоритетах</li>
                    <li>Создание временных переменных для текущего запроса</li>
                    <li>Динамическая подстановка значений в тексты и URL</li>
                    <li>Проверка доступности переменных перед их использованием</li>
                  </ul>
                </div>
                
                <!-- Примеры кода -->
                <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                  <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Пример базового использования</summary>
                  <div class="p-4 bg-white border-t border-gray-200">
                    <pre class="relative rounded-lg">
  <code class="language-js">// Установка локальной переменной
  pm.variables.set("myVar", "testValue"); 
  
  // Получение значения переменной
  const value = pm.variables.get("myVar"); 
  console.log(value); // Выводит: testValue
  
  // Проверка существования переменной
  if (pm.variables.has("apiKey")) {
      console.log("API ключ доступен");
  }</code>
                    </pre>
                  </div>
                </details>
                
                <!-- Подстановка переменных -->
                <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                  <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Подстановка переменных в строки</summary>
                  <div class="p-4 bg-white border-t border-gray-200">
                    <pre class="relative rounded-lg">
  <code class="language-js">// Установка переменных
  pm.variables.set("username", "john_doe");
  pm.variables.set("id", 12345);
  
  // Подстановка переменных в строку
  const greeting = pm.variables.replaceIn("Привет, {{username}}! ID: {{id}}");
  console.log(greeting); // Выводит: Привет, john_doe! ID: 12345
  
  // Использование с URL
  const apiUrl = pm.variables.replaceIn("https://api.example.com/users/{{id}}");
  console.log(apiUrl); // Выводит: https://api.example.com/users/12345</code>
                    </pre>
                  </div>
                </details>
                
                <!-- Хранение сложных типов данных -->
                <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                  <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Хранение сложных типов данных</summary>
                  <div class="p-4 bg-white border-t border-gray-200">
                    <pre class="relative rounded-lg">
  <code class="language-js">// Хранение объекта как JSON-строки
  const user = {
      id: 123,
      name: "John",
      roles: ["admin", "editor"]
  };
  pm.variables.set("userData", JSON.stringify(user));
  
  // Получение и использование объекта
  const storedUser = JSON.parse(pm.variables.get("userData"));
  console.log(storedUser.name); // Выводит: John
  console.log(storedUser.roles[0]); // Выводит: admin</code>
                    </pre>
                  </div>
                </details>
                
                <!-- Советы и лучшие практики -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Советы и рекомендации</h3>
                <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
                  <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li>Используйте <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.variables</code> для общего доступа к переменным, когда не важна область видимости</li>
                    <li>Для хранения сложных объектов используйте <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">JSON.stringify()</code> при сохранении и <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">JSON.parse()</code> при получении</li>
                    <li>Обрабатывайте случаи, когда переменная может отсутствовать, с помощью проверки <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.variables.has()</code></li>
                    <li>Для временных переменных используйте <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.variables.set()</code>, а не <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.environment.set()</code></li>
                  </ul>
                </div>
                
                <!-- Типичные ошибки -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные ошибки</h3>
                <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4">
                  <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li>Забывать, что переменные всегда хранятся как строки</li>
                    <li>Пытаться сохранить объект напрямую без преобразования в JSON</li>
                    <li>Не учитывать, что переменные, установленные через <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.variables.set()</code>, существуют только во время выполнения текущего запроса</li>
                    <li>Не проверять существование переменной перед её использованием</li>
                  </ul>
                </div>
              </div>
            </div>
          </section>
          <!-- Секция 4 - pm.environment -->
        <section id="section4" class="mb-10 pt-8 -mt-8">
            <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
              <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
                <h2 class="text-xl font-semibold text-gray-800">4. pm.environment</h2>
              </div>
              <div class="p-6">
                <div class="flex flex-wrap gap-2 mb-4">
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Окружение</span>
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Переменные</span>
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Environment</span>
                </div>
                
                <!-- Расширенное описание -->
                <p class="text-gray-600 mb-4">
                  Объект <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.environment</code> предоставляет доступ к переменным текущего окружения (environment). Окружения в Postman — это наборы переменных, которые можно переключать для тестирования API в разных контекстах, например "разработка", "тестирование", "промышленная эксплуатация".
                </p>
                
                <!-- Доступные методы -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Основные методы</h3>
                <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.environment.get("varName")</code> — получение значения переменной окружения</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.environment.set("varName", value)</code> — установка значения переменной окружения</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.environment.has("varName")</code> — проверка существования переменной</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.environment.unset("varName")</code> — удаление переменной окружения</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.environment.clear()</code> — удаление всех переменных текущего окружения</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.environment.name</code> — получение имени текущего окружения</li>
                </ul>
                
                <!-- Типичные сценарии использования -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные сценарии использования</h3>
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                  <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li>Хранение URL-адресов серверов, специфичных для разных сред (dev, test, prod)</li>
                    <li>Сохранение аутентификационных токенов для повторного использования</li>
                    <li>Передача данных между запросами в рамках одного окружения</li>
                    <li>Хранение параметров конфигурации, специфичных для окружения (лимиты, таймауты)</li>
                  </ul>
                </div>
                
                <!-- Примеры кода -->
                <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                  <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Пример базового использования</summary>
                  <div class="p-4 bg-white border-t border-gray-200">
                    <pre class="relative rounded-lg">
  <code class="language-js">// Установка переменной окружения
  pm.environment.set("apiKey", "abc123");
  
  // Получение значения переменной окружения
  const key = pm.environment.get("apiKey");
  console.log(key); // Выводит: abc123
  
  // Проверка существования переменной
  if (pm.environment.has("baseUrl")) {
      console.log("URL существует в окружении");
  }
  
  // Удаление переменной окружения
  pm.environment.unset("tempToken");</code>
                    </pre>
                  </div>
                </details>
                
                <!-- Сохранение данных из ответа -->
                <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                  <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Сохранение данных из ответа в окружение</summary>
                  <div class="p-4 bg-white border-t border-gray-200">
                    <pre class="relative rounded-lg">
  <code class="language-js">// Извлечение токена из JSON-ответа и сохранение в окружении
  const response = pm.response.json();
  if (response && response.token) {
      pm.environment.set("authToken", response.token);
      pm.environment.set("tokenExpiry", new Date().getTime() + 3600000); // +1 час
  }
  
  // В следующих запросах можно использовать этот токен
  const token = pm.environment.get("authToken");
  const expiry = pm.environment.get("tokenExpiry");
  const now = new Date().getTime();
  
  if (token && expiry && now <parseInt(expiry)) {
      // Токен действителен, используем его
      console.log("Используем сохраненный токен:", token);
  } else {
      console.log("Токен истек или отсутствует, требуется повторная аутентификация");
  }</code>
                    </pre>
                  </div>
                </details>
                
                <!-- Работа с разными окружениями -->
                <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                  <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Определение текущего окружения</summary>
                  <div class="p-4 bg-white border-t border-gray-200">
                    <pre class="relative rounded-lg">
  <code class="language-js">// Получение имени текущего окружения
  const envName = pm.environment.name;
  console.log(`Текущее окружение: ${envName}`);
  
  // Выполнение разной логики в зависимости от окружения
  if (envName === "Development") {
      // Дополнительные проверки для разработки
      pm.test("Проверка отладочной информации", () => {
          const response = pm.response.json();
          pm.expect(response.debug).to.exist;
      });
  } else if (envName === "Production") {
      // Проверки для продакшн
      pm.test("Отсутствие отладочной информации", () => {
          const response = pm.response.json();
          pm.expect(response.debug).to.be.undefined;
      });
  }</code>
                    </pre>
                  </div>
                </details>
                
                <!-- Советы и лучшие практики -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Советы и рекомендации</h3>
                <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
                  <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li>Используйте переменные окружения для хранения конфигураций, специфичных для каждой среды</li>
                    <li>Для авторизационных токенов храните не только сам токен, но и время его истечения</li>
                    <li>Создавайте отдельные окружения для различных контекстов (dev, test, prod) вместо изменения отдельных переменных</li>
                    <li>Не храните чувствительные данные (пароли, ключи API) в экспортируемых окружениях; используйте переменные с пометкой "secret"</li>
                  </ul>
                </div>
                
                <!-- Типичные ошибки -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные ошибки</h3>
                <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4">
                  <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li>Не проверять, активно ли окружение перед использованием переменных окружения</li>
                    <li>Забывать, что все переменные хранятся как строки (числа и даты нужно преобразовать при чтении)</li>
                    <li>Использовать переменные окружения для временных данных, которые не должны сохраняться между запусками</li>
                    <li>Хранить большие объемы данных в переменных окружения (лучше использовать глобальные или переменные коллекции)</li>
                  </ul>
                </div>
              </div>
            </div>
          </section>
  
          <!-- Секция 5 - pm.globals -->
          <section id="section5" class="mb-10 pt-8 -mt-8">
            <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
              <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
                <h2 class="text-xl font-semibold text-gray-800">5. pm.globals</h2>
              </div>
              <div class="p-6">
                <div class="flex flex-wrap gap-2 mb-4">
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Глобальные</span>
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Переменные</span>
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Workspace</span>
                </div>
                
                <!-- Расширенное описание -->
                <p class="text-gray-600 mb-4">
                  Объект <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.globals</code> предоставляет доступ к глобальным переменным, которые доступны во всех коллекциях и запросах рабочего пространства Postman. Глобальные переменные имеют самый низкий приоритет в иерархии переменных, но видны повсеместно.
                </p>
                
                <!-- Доступные методы -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Основные методы</h3>
                <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.globals.get("varName")</code> — получение значения глобальной переменной</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.globals.set("varName", value)</code> — установка значения глобальной переменной</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.globals.has("varName")</code> — проверка существования глобальной переменной</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.globals.unset("varName")</code> — удаление глобальной переменной</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.globals.clear()</code> — удаление всех глобальных переменных</li>
                </ul>
                
                <!-- Типичные сценарии использования -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные сценарии использования</h3>
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                  <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li>Хранение конфигурации, общей для всех коллекций (URL серверов, версии API)</li>
                    <li>Передача данных между различными коллекциями</li>
                    <li>Установка временных переменных, которые должны быть доступны всем запросам</li>
                    <li>Отслеживание состояния тестовых прогонов на уровне рабочего пространства</li>
                  </ul>
                </div>
                
                <!-- Примеры кода -->
                <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                  <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Пример базового использования</summary>
                  <div class="p-4 bg-white border-t border-gray-200">
                    <pre class="relative rounded-lg">
  <code class="language-js">// Установка глобальной переменной
  pm.globals.set("baseUrl", "https://api.example.com");
  
  // Получение значения глобальной переменной
  const url = pm.globals.get("baseUrl");
  console.log(url); // Выводит: https://api.example.com
  
  // Проверка существования переменной
  if (pm.globals.has("apiVersion")) {
      console.log("Версия API задана глобально");
  }
  
  // Удаление глобальной переменной
  pm.globals.unset("tempVar");</code>
                    </pre>
                  </div>
                </details>
                
                <!-- Хранение общей конфигурации -->
                <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                  <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Хранение общей конфигурации</summary>
                  <div class="p-4 bg-white border-t border-gray-200">
                    <pre class="relative rounded-lg">
  <code class="language-js">// Установка общих настроек при инициализации рабочего пространства
  if (!pm.globals.has("apiConfig")) {
      const defaultConfig = {
          timeout: 5000,
          retryCount: 3,
          logLevel: "info",
          defaultHeaders: {
              "Accept": "application/json",
              "Content-Type": "application/json"
          }
      };
      pm.globals.set("apiConfig", JSON.stringify(defaultConfig));
  }
  
  // Использование конфигурации в запросах
const config = JSON.parse(pm.globals.get("apiConfig") || "{}");
console.log(`Используем таймаут: ${config.timeout}ms`);

// Добавление заголовков из конфигурации
if (config.defaultHeaders) {
    Object.entries(config.defaultHeaders).forEach(([key, value]) => {
        if (!pm.request.headers.has(key)) {
            pm.request.headers.add({ key, value });
        }
    });
}</code>
                  </pre>
                </div>
              </details>
              
              <!-- Отслеживание состояния прогонов -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Отслеживание состояния тестовых прогонов</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// В начале тестового прогона (Pre-request скрипт первого запроса)
if (!pm.globals.has("testRunId")) {
    pm.globals.set("testRunId", new Date().getTime().toString());
    pm.globals.set("testFailures", "0");
    pm.globals.set("testSuccesses", "0");
}

// В Test скрипте каждого запроса
const currentFailures = parseInt(pm.globals.get("testFailures") || "0");
const currentSuccesses = parseInt(pm.globals.get("testSuccesses") || "0");

// Подсчет результатов теста
pm.test("API возвращает статус 200", () => {
    pm.response.to.have.status(200);
    // Если тест успешен, успехи увеличиваются в теле теста
    pm.globals.set("testSuccesses", (currentSuccesses + 1).toString());
}, () => {
    // Если тест провален, failures увеличиваются в callback ошибки
    pm.globals.set("testFailures", (currentFailures + 1).toString());
});

// В конце тестового прогона (Test скрипт последнего запроса)
console.log(`Тестовый прогон ${pm.globals.get("testRunId")} завершен`);
console.log(`Успешно: ${pm.globals.get("testSuccesses")}, Провалено: ${pm.globals.get("testFailures")}`);

// Очистка переменных в конце прогона
pm.globals.unset("testRunId");
pm.globals.unset("testFailures");
pm.globals.unset("testSuccesses");</code>
                  </pre>
                </div>
              </details>
              
              <!-- Советы и лучшие практики -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Советы и рекомендации</h3>
              <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Используйте глобальные переменные только для данных, которые действительно должны быть общими для всех коллекций</li>
                  <li>Применяйте префиксы к именам глобальных переменных, чтобы избежать конфликтов между коллекциями</li>
                  <li>Регулярно очищайте временные глобальные переменные, чтобы избежать загрязнения рабочего пространства</li>
                  <li>Используйте <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.globals</code> для отладки, сохраняя промежуточные результаты, которые можно посмотреть в любом запросе</li>
                </ul>
              </div>
              
              <!-- Типичные ошибки -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные ошибки</h3>
              <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Злоупотребление глобальными переменными, когда переменные окружения или коллекции более подходят</li>
                  <li>Использование слишком общих имен переменных, вызывающее конфликты между коллекциями</li>
                  <li>Хранение чувствительных данных (паролей, токенов) в глобальных переменных</li>
                  <li>Забывать очищать временные глобальные переменные, что приводит к неожиданному поведению в будущих запусках</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- Секция 6 - pm.collectionVariables -->
        <section id="section6" class="mb-10 pt-8 -mt-8">
          <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
            <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
              <h2 class="text-xl font-semibold text-gray-800">6. pm.collectionVariables</h2>
            </div>
            <div class="p-6">
              <div class="flex flex-wrap gap-2 mb-4">
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Коллекция</span>
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Переменные</span>
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Область видимости</span>
              </div>
              
              <!-- Расширенное описание -->
              <p class="text-gray-600 mb-4">
                Объект <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.collectionVariables</code> предоставляет доступ к переменным на уровне коллекции. Эти переменные доступны всем запросам внутри коллекции, сохраняются между запусками, но ограничены контекстом одной коллекции, что делает их идеальными для хранения состояния внутри последовательности запросов.
              </p>
              
              <!-- Доступные методы -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Основные методы</h3>
              <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.collectionVariables.get("varName")</code> — получение значения переменной коллекции</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.collectionVariables.set("varName", value)</code> — установка значения переменной коллекции</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.collectionVariables.has("varName")</code> — проверка существования переменной</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.collectionVariables.unset("varName")</code> — удаление переменной коллекции</li>
              </ul>
              
              <!-- Приоритет в иерархии переменных -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Приоритет в иерархии переменных</h3>
              <p class="text-gray-600 mb-4">Переменные коллекции имеют более высокий приоритет, чем глобальные переменные, но более низкий, чем переменные окружения:</p>
              <ol class="list-decimal list-inside space-y-1 text-gray-600 mb-4 pl-2">
                <li>Переменные временной области (Local variables)</li>
                <li>Переменные окружения (Environment variables)</li>
                <li><strong>Переменные коллекции (Collection variables) ← мы здесь</strong></li>
                <li>Глобальные переменные (Global variables)</li>
              </ol>
              
              <!-- Типичные сценарии использования -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные сценарии использования</h3>
              <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Хранение аутентификационных токенов внутри коллекции</li>
                  <li>Передача данных между запросами в рамках коллекции</li>
                  <li>Сохранение состояния между запусками коллекции</li>
                  <li>Хранение идентификаторов, созданных в одном запросе и используемых в последующих</li>
                </ul>
              </div>
              
              <!-- Примеры кода -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Пример базового использования</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// Установка переменной коллекции
pm.collectionVariables.set("collectionVar", "value");

// Получение значения переменной коллекции
const value = pm.collectionVariables.get("collectionVar");
console.log(value); // Выводит: value

// Проверка существования переменной
if (pm.collectionVariables.has("userId")) {
    console.log("ID пользователя сохранен в коллекции");
}

// Удаление переменной коллекции
pm.collectionVariables.unset("tempVariable");</code>
                  </pre>
                </div>
              </details>
              
              <!-- Передача данных между запросами -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Передача данных между запросами</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// В запросе создания ресурса (Test скрипт)
const response = pm.response.json();
if (response.id) {
    pm.collectionVariables.set("createdResourceId", response.id);
    console.log(`Создан ресурс с ID: ${response.id}`);
}

// В последующем запросе (Pre-request скрипт)
const resourceId = pm.collectionVariables.get("createdResourceId");
if (resourceId) {
    // Используем ID в URL или теле запроса
    const url = `https://api.example.com/resources/${resourceId}`;
    pm.request.url = url;
    console.log(`Обращаемся к ресурсу с ID: ${resourceId}`);
} else {
    console.error("ID ресурса не найден! Сначала выполните запрос создания ресурса.");
}</code>
                  </pre>
                </div>
              </details>
              
              <!-- Организация временных переменных -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Организация временных переменных</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// Создание переменной-списка для отслеживания временных переменных
if (!pm.collectionVariables.has("tempVars")) {
    pm.collectionVariables.set("tempVars", "[]");
}

// Функция для создания временной переменной
function setTempVar(name, value) {
    // Сохраняем переменную
    pm.collectionVariables.set(name, value);
    
    // Добавляем имя в список временных переменных
    const tempVars = JSON.parse(pm.collectionVariables.get("tempVars") || "[]");
    if (!tempVars.includes(name)) {
        tempVars.push(name);
        pm.collectionVariables.set("tempVars", JSON.stringify(tempVars));
    }
}

// Функция для очистки всех временных переменных
function clearTempVars() {
    const tempVars = JSON.parse(pm.collectionVariables.get("tempVars") || "[]");
    
    // Удаляем каждую временную переменную
    tempVars.forEach(name => {
        pm.collectionVariables.unset(name);
    });
    
    // Очищаем список
    pm.collectionVariables.set("tempVars", "[]");
    console.log("Временные переменные очищены");
}

// Использование
setTempVar("sessionToken", "abc123");
// ...использование переменной...

// В конце коллекции
clearTempVars();</code>
                  </pre>
                </div>
              </details>
              
              <!-- Советы и лучшие практики -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Советы и рекомендации</h3>
              <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Используйте переменные коллекции для данных, которые должны быть доступны только внутри одной коллекции</li>
                  <li>Организуйте управление временными переменными с помощью списка для автоматической очистки</li>
                  <li>Для сложных данных создавайте JSON-структуры и храните их как строки</li>
                  <li>При использовании Runner для запуска нескольких итераций, учитывайте, что переменные коллекции сохраняются между итерациями</li>
                </ul>
              </div>
              
              <!-- Типичные ошибки -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные ошибки</h3>
              <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Забывать о том, что переменные коллекции сохраняются между запусками, что может привести к неожиданным результатам</li>
                  <li>Не очищать временные переменные в конце выполнения коллекции</li>
                  <li>Смешивать данные разных итераций при использовании Collection Runner</li>
                  <li>Хранить слишком много данных в переменных коллекции, что может замедлить работу Postman</li>
                </ul>
              </div>
            </div>
          </div>
        </section>
        <!-- Секция 7 - pm.cookies -->
        <section id="section7" class="mb-10 pt-8 -mt-8">
            <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
              <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
                <h2 class="text-xl font-semibold text-gray-800">7. pm.cookies</h2>
              </div>
              <div class="p-6">
                <div class="flex flex-wrap gap-2 mb-4">
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Cookies</span>
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Сессия</span>
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Доступ</span>
                </div>
                
                <!-- Расширенное описание -->
                <p class="text-gray-600 mb-4">
                  Объект <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.cookies</code> предоставляет доступ к cookies (куки), связанным с текущим запросом. Куки — это данные, которые сервер отправляет браузеру, а тот хранит их и отправляет обратно с последующими запросами. В Postman cookies управляются автоматически, но вы можете читать и работать с ними через этот объект.
                </p>
                
                <!-- Доступные методы -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Основные методы</h3>
                <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.cookies.has(name)</code> — проверяет, существует ли cookie с указанным именем</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.cookies.get(name)</code> — получает значение cookie по имени</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.cookies.toObject()</code> — возвращает все cookies в виде объекта</li>
                  <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.cookies.jar()</code> — возвращает объект cookie jar для более сложных операций</li>
                </ul>
                
                <!-- Типичные сценарии использования -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные сценарии использования</h3>
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                  <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li>Проверка наличия сессионных cookie после аутентификации</li>
                    <li>Извлечение данных из cookie для использования в тестах</li>
                    <li>Сохранение значений cookie в переменные для последующего анализа</li>
                    <li>Подтверждение передачи специфических cookie при взаимодействии с API</li>
                  </ul>
                </div>
                
                <!-- Примеры кода -->
                <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                  <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Пример базового использования</summary>
                  <div class="p-4 bg-white border-t border-gray-200">
                    <pre class="relative rounded-lg">
  <code class="language-js">// Проверка наличия cookie
  if (pm.cookies.has("sessionId")) {
      console.log("Cookie sessionId существует");
      
      // Получение значения cookie
      const sessionId = pm.cookies.get("sessionId");
      console.log(`Значение sessionId: ${sessionId}`);
      
      // Сохранение в переменную окружения
      pm.environment.set("sessionIdFromCookie", sessionId);
  }
  
  // Получение всех cookies в виде объекта
  const allCookies = pm.cookies.toObject();
  console.log("Все cookies:", allCookies);</code>
                    </pre>
                  </div>
                </details>
                
                <!-- Валидация cookies в тестах -->
                <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                  <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Валидация cookies в тестах</summary>
                  <div class="p-4 bg-white border-t border-gray-200">
                    <pre class="relative rounded-lg">
  <code class="language-js">// Проверка установки cookie после аутентификации
  pm.test("Установлен сессионный cookie", () => {
      pm.expect(pm.cookies.has("sessionId")).to.be.true;
  });
  
  // Проверка значения cookie
  pm.test("Cookie содержит корректный токен", () => {
      const sessionCookie = pm.cookies.get("sessionId");
      
      // Проверка формата JWT токена (примерно)
      pm.expect(sessionCookie).to.match(/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.[A-Za-z0-9-_.+/=]*$/);
  });
  
  // Проверка срока действия cookie
  pm.test("Cookie установлен с правильным сроком действия", () => {
      // Получаем все свойства cookie (включая expiry)
      const cookies = pm.response.headers.get("Set-Cookie");
      
      // Удостоверимся, что в Set-Cookie есть Max-Age или Expires
      pm.expect(cookies).to.match(/Max-Age=|Expires=/);
  });</code>
                    </pre>
                  </div>
                </details>
                
                <!-- Отладка проблем с cookies -->
                <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                  <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Отладка проблем с cookies</summary>
                  <div class="p-4 bg-white border-t border-gray-200">
                    <pre class="relative rounded-lg">
  <code class="language-js">// Анализ cookies для отладки проблем
  const allCookies = pm.cookies.toObject();
  console.log("Все активные cookies:", allCookies);
  
  // Проверка заголовков Set-Cookie из ответа
  const setCookieHeaders = pm.response.headers.filter(h => h.key.toLowerCase() === "set-cookie");
  if (setCookieHeaders.length > 0) {
      console.log("Сервер установил следующие cookies:");
      setCookieHeaders.forEach((header, index) => {
          console.log(`[${index + 1}] ${header.value}`);
          
          // Анализ атрибутов cookie
          const hasSecure = header.value.includes("Secure");
          const hasHttpOnly = header.value.includes("HttpOnly");
          const hasSameSite = header.value.match(/SameSite=(Lax|Strict|None)/);
          
          console.log(`  - Secure: ${hasSecure}`);
          console.log(`  - HttpOnly: ${hasHttpOnly}`);
          console.log(`  - SameSite: ${hasSameSite ? hasSameSite[1] : "Not specified"}`);
      });
  } else {
      console.log("Сервер не установил новых cookies");
  }</code>
                    </pre>
                  </div>
                </details>
                
                <!-- Советы и лучшие практики -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Советы и рекомендации</h3>
                <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
                  <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li>Включите опцию "Automatically follow redirects" в настройках запроса для корректной работы с cookies</li>
                    <li>Используйте Cookie Manager в Postman для просмотра и управления всеми cookies в браузерном стиле</li>
                    <li>Для расширенных операций с cookies используйте <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.cookies.jar()</code></li>
                    <li>Проверяйте не только наличие cookie, но и его атрибуты безопасности (HttpOnly, Secure, SameSite)</li>
                  </ul>
                </div>
                
                <!-- Типичные ошибки -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные ошибки</h3>
                <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4">
                  <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li>Забывать, что cookies в Postman автоматически управляются по доменам</li>
                    <li>Пытаться напрямую устанавливать cookie без использования <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">cookies.jar()</code></li>
                    <li>Не учитывать особенности работы cookies при тестировании локально и в облачной среде</li>
                    <li>Использовать <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.cookies</code> в Pre-request скрипте до выполнения запроса</li>
                  </ul>
                </div>
              </div>
            </div>
          </section>
  
          <!-- Секция 8 - pm.cookies.jar -->
          <section id="section8" class="mb-10 pt-8 -mt-8">
            <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
              <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
                <h2 class="text-xl font-semibold text-gray-800">8. pm.cookies.jar</h2>
              </div>
              <div class="p-6">
                <div class="flex flex-wrap gap-2 mb-4">
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Cookie Jar</span>
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Домен</span>
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Управление</span>
                </div>
                
                <!-- Расширенное описание -->
                <p class="text-gray-600 mb-4">
                    Метод <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.cookies.jar()</code> возвращает объект Cookie Jar, который позволяет управлять cookies на уровне доменов. В отличие от простого <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.cookies</code>, который дает доступ только к текущим cookies запроса, jar предоставляет возможность устанавливать, получать и удалять cookies для любого домена.
                  </p>
                  
                  <!-- Доступные методы -->
                  <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Основные методы Cookie Jar</h3>
                  <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
                    <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">jar.get(url, callback)</code> — получает все cookies для указанного URL</li>
                    <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">jar.getAll(callback)</code> — получает все cookies для всех доменов</li>
                    <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">jar.set(url, name, value, callback)</code> — устанавливает cookie для указанного URL</li>
                    <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">jar.unset(url, name, callback)</code> — удаляет cookie по имени для указанного URL</li>
                    <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">jar.clear(url, callback)</code> — удаляет все cookies для указанного URL</li>
                  </ul>
                  <p class="text-gray-600 mb-4">
                    <strong>Примечание:</strong> Все методы Cookie Jar асинхронные и используют callbacks для получения результатов.
                  </p>
                  
                  <!-- Типичные сценарии использования -->
                  <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные сценарии использования</h3>
                  <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                    <ul class="list-disc list-inside space-y-1 text-gray-600">
                      <li>Ручная установка cookies для тестирования аутентификации</li>
                      <li>Управление cookies для разных доменов в одном тесте</li>
                      <li>Очистка определенных cookies перед запуском тестов</li>
                      <li>Проверка сохранения cookies между запросами</li>
                    </ul>
                  </div>
                  
                  <!-- Примеры кода -->
                  <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                    <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Пример базового использования</summary>
                    <div class="p-4 bg-white border-t border-gray-200">
                      <pre class="relative rounded-lg">
    <code class="language-js">// Получение Cookie Jar
    const jar = pm.cookies.jar();
    
    // Установка cookie
    jar.set(
        "https://example.com", // URL/домен
        "myCookie",           // имя cookie
        "cookieValue",        // значение cookie
        (error, cookie) => {
            if (error) {
                console.error(error);
            } else {
                console.log("Cookie установлен успешно:", cookie);
            }
        }
    );
    
    // Получение cookie для домена
    jar.get("https://example.com", (error, cookies) => {
        if (error) {
            console.error(error);
        } else {
            console.log("Cookies для example.com:", cookies);
        }
    });</code>
                      </pre>
                    </div>
                  </details>
                  
                  <!-- Расширенный пример с различными параметрами cookies -->
                  <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                    <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Установка cookie с дополнительными атрибутами</summary>
                    <div class="p-4 bg-white border-t border-gray-200">
                      <pre class="relative rounded-lg">
    <code class="language-js">const jar = pm.cookies.jar();
    
    // Установка cookie с дополнительными параметрами
    jar.set(
        "https://example.com",
        "sessionId",
        "abcdef123456",
        {
            path: "/api",           // путь для cookie
            secure: true,           // только для HTTPS
            httpOnly: true,         // недоступен для JavaScript
            maxAge: 3600,           // время жизни в секундах
            domain: "example.com"   // домен
        },
        (error, cookie) => {
            if (error) {
                console.error("Ошибка установки cookie:", error);
            } else {
                console.log("Cookie установлен с параметрами:", cookie);
            }
        }
    );</code>
                      </pre>
                    </div>
                  </details>
                  
                  <!-- Управление cookies -->
                  <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                    <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Очистка и управление cookies</summary>
                    <div class="p-4 bg-white border-t border-gray-200">
                      <pre class="relative rounded-lg">
    <code class="language-js">const jar = pm.cookies.jar();
    
    // Удаление конкретного cookie
    jar.unset(
        "https://example.com",
        "sessionId",
        (error) => {
            if (error) {
                console.error("Ошибка удаления cookie:", error);
            } else {
                console.log("Cookie sessionId удален");
            }
        }
    );
    
    // Очистка всех cookies для домена
    jar.clear(
        "https://example.com",
        (error) => {
            if (error) {
                console.error("Ошибка очистки cookies:", error);
            } else {
                console.log("Все cookies для example.com удалены");
            }
        }
    );
    
    // Получение всех cookies для всех доменов
    jar.getAll((error, cookies) => {
        if (error) {
            console.error(error);
        } else {
            console.log("Все cookies:", cookies);
            
            // Вывод cookies по доменам
            const domains = {};
            cookies.forEach(cookie => {
                if (!domains[cookie.domain]) {
                    domains[cookie.domain] = [];
                }
                domains[cookie.domain].push(cookie);
            });
            
            console.log("Cookies по доменам:", domains);
        }
    });</code>
                      </pre>
                    </div>
                  </details>
                  
                  <!-- Советы и лучшие практики -->
                  <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Советы и рекомендации</h3>
                  <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
                    <ul class="list-disc list-inside space-y-1 text-gray-600">
                      <li>Всегда обрабатывайте ошибки в callback-функциях методов Cookie Jar</li>
                      <li>Помните, что домены в URL должны соответствовать тем, с которыми вы работаете в запросах</li>
                      <li>Используйте <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">getAll()</code> для отладки, чтобы видеть все установленные cookies</li>
                      <li>Объединяйте Cookie Jar с переменными окружения для сохранения состояния между сессиями</li>
                    </ul>
                  </div>
                  
                  <!-- Типичные ошибки -->
                  <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные ошибки</h3>
                  <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4">
                    <ul class="list-disc list-inside space-y-1 text-gray-600">
                      <li>Использование неполного URL (нужен протокол, домен и, возможно, путь)</li>
                      <li>Забывать, что методы Cookie Jar асинхронные и требуют callback-функций</li>
                      <li>Пытаться использовать Cookie Jar для доменов, не связанных с текущими запросами</li>
                      <li>Неучёт различий между Cookie-управлением в Postman и реальных браузерах</li>
                    </ul>
                  </div>
                </div>
              </div>
            </section>
    
            <!-- Секция 9 - pm.vault -->
            <section id="section9" class="mb-10 pt-8 -mt-8">
              <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
                <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
                  <h2 class="text-xl font-semibold text-gray-800">9. pm.vault</h2>
                </div>
                <div class="p-6">
                  <div class="flex flex-wrap gap-2 mb-4">
                    <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Хранилище</span>
                    <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Безопасность</span>
                    <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Секреты</span>
                  </div>
                  
                  <!-- Расширенное описание -->
                  <p class="text-gray-600 mb-4">
                    Объект <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.vault</code> представляет собой безопасное хранилище для чувствительных данных (секретов), таких как API ключи, пароли и токены доступа. Vault обеспечивает дополнительный уровень защиты, шифруя хранимые данные. В отличие от обычных переменных, данные из Vault не экспортируются по умолчанию и не отображаются в интерфейсе.
                  </p>
                  
                  <!-- Доступные методы -->
                  <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Основные методы</h3>
                  <p class="text-gray-600 mb-4">
                    <strong>Примечание:</strong> Методы pm.vault асинхронные и используют promises (async/await), в отличие от большинства других API Postman.
                  </p>
                  <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
                    <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">await pm.vault.get(key)</code> — получает секрет по ключу</li>
                    <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">await pm.vault.set(key, value)</code> — устанавливает или обновляет секрет</li>
                    <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">await pm.vault.unset(key)</code> — удаляет секрет по ключу</li>
                    <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">await pm.vault.getAll()</code> — получает объект со всеми секретами</li>
                    <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">await pm.vault.namespace</code> — возвращает текущее пространство имен Vault</li>
                  </ul>
                  
                  <!-- Типичные сценарии использования -->
                  <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные сценарии использования</h3>
                  <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                    <ul class="list-disc list-inside space-y-1 text-gray-600">
                      <li>Безопасное хранение API ключей, не выставляя их в переменные окружения</li>
                      <li>Работа с чувствительными учетными данными (логины, пароли)</li>
                      <li>Хранение приватных ключей и сертификатов</li>
                      <li>Установка временных токенов аутентификации с повышенной защитой</li>
                    </ul>
                  </div>
                  
                  <!-- Примеры кода -->
                  <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                    <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Пример базового использования</summary>
                    <div class="p-4 bg-white border-t border-gray-200">
                      <pre class="relative rounded-lg">
    <code class="language-js">// Использование async/await с pm.vault
    (async function() {
        try {
            // Сохранение секрета
            await pm.vault.set("apiKey", "sk_test_abc123xyz456");
            console.log("API ключ сохранен в хранилище");
            
            // Получение секрета
            const apiKey = await pm.vault.get("apiKey");
            console.log("Получен API ключ из хранилища:", apiKey);
            
            // Использование секрета
            if (apiKey) {
                // Добавление заголовка авторизации
                pm.request.headers.add({
                    key: "Authorization",
                    value: `Bearer ${apiKey}`
                });
            }
        } catch (error) {
            console.error("Ошибка при работе с хранилищем:", error);
        }
    })();</code>
                      </pre>
                    </div>
                  </details>
                  
                  <!-- Управление секретами -->
                  <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                    <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Управление несколькими секретами</summary>
                    <div class="p-4 bg-white border-t border-gray-200">
                      <pre class="relative rounded-lg">
    <code class="language-js">(async function() {
        try {
            // Сохранение нескольких секретов
            await pm.vault.set("clientId", "client_12345");
            await pm.vault.set("clientSecret", "secret_67890");
            await pm.vault.set("refreshToken", "rt_abcdefg");
            
            // Получение всех секретов
            const allSecrets = await pm.vault.getAll();
            console.log("Доступны следующие секреты:", Object.keys(allSecrets));
            
            // Использование секретов для OAuth авторизации
            if (allSecrets.clientId && allSecrets.clientSecret) {
                const authString = Buffer.from(
                    `${allSecrets.clientId}:${allSecrets.clientSecret}`
                ).toString('base64');
                
                pm.request.headers.add({
                    key: "Authorization",
                    value: `Basic ${authString}`
                });
            }
        } catch (error) {
            console.error("Ошибка при работе с хранилищем:", error);
        }
    })();</code>
                      </pre>
                    </div>
                  </details>
                  
                  <!-- Обновление и удаление секретов -->
                  <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                    <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Обновление и удаление секретов</summary>
                    <div class="p-4 bg-white border-t border-gray-200">
                      <pre class="relative rounded-lg">
    <code class="language-js">(async function() {
        try {
            // Получение и проверка текущего токена
            const currentToken = await pm.vault.get("accessToken");
            
            // Получение нового токена из ответа
            const response = pm.response.json();
            if (response && response.token) {
                // Обновление токена в хранилище
                await pm.vault.set("accessToken", response.token);
                console.log("Токен обновлен в хранилище");
                
                // Обновление времени истечения
                if (response.expires_in) {
                    const expiryTime = new Date().getTime() + (response.expires_in * 1000);
                    await pm.vault.set("tokenExpiry", expiryTime.toString());
                }
            }
            
            // Удаление устаревших данных
            if (await pm.vault.get("oldApiKey")) {
                await pm.vault.unset("oldApiKey");
                console.log("Устаревший API ключ удален из хранилища");
            }
        } catch (error) {
            console.error("Ошибка при обновлении секретов:", error);
        }
    })();</code>
                      </pre>
                    </div>
                  </details>
                  
                  <!-- Советы и лучшие практики -->
                  <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Советы и рекомендации</h3>
                  <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
                    <ul class="list-disc list-inside space-y-1 text-gray-600">
                      <li>Используйте pm.vault для всех чувствительных данных вместо обычных переменных</li>
                      <li>Всегда обрабатывайте ошибки при работе с асинхронными методами Vault</li>
                      <li>Добавляйте префиксы к ключам в Vault для лучшей организации секретов</li>
                      <li>Храните даты истечения токенов вместе с самими токенами для управления их жизненным циклом</li>
                      <li>Помните, что секреты в Vault привязаны к пространству имен (обычно collection или workspace)</li>
                    </ul>
                  </div>
                  
                  <!-- Типичные ошибки -->
                  <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные ошибки</h3>
                  <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4">
                    <ul class="list-disc list-inside space-y-1 text-gray-600">
                      <li>Забывать, что методы pm.vault асинхронные и требуют async/await или promises</li>
                      <li>Пытаться использовать хранилище без обработки возможных ошибок</li>
                      <li>Смешивать секреты с обычными данными, что снижает уровень их защиты</li>
                      <li>Не учитывать ограничения на размер хранимых секретов (обычно несколько КБ)</li>
                    </ul>
                  </div>
                </div>
              </div>
            </section>
            <!-- Секция 10 - pm.sendRequest -->
        <section id="section10" class="mb-10 pt-8 -mt-8">
            <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
              <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
                <h2 class="text-xl font-semibold text-gray-800">10. pm.sendRequest</h2>
              </div>
              <div class="p-6">
                <div class="flex flex-wrap gap-2 mb-4">
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">HTTP-запрос</span>
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Скрипт</span>
                  <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Асинхронный</span>
                </div>
                
                <!-- Расширенное описание -->
                <p class="text-gray-600 mb-4">
                  Метод <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.sendRequest</code> позволяет отправлять HTTP-запросы непосредственно из скриптов Postman. Это мощный инструмент для выполнения дополнительных вызовов API, получения связанных данных или проверки различных конечных точек в рамках одного теста. Запросы выполняются асинхронно, поэтому результаты обрабатываются в callback-функции.
                </p>
                
                <!-- Форматы запросов -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Форматы запросов</h3>
                <p class="text-gray-600 mb-4">
                  pm.sendRequest поддерживает два формата запросов:
                </p>
                <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
                  <li><strong>Простой (строковый URL):</strong> <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.sendRequest("https://example.com", callback)</code></li>
                  <li><strong>Расширенный (объект с параметрами):</strong> <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.sendRequest({url, method, header, body}, callback)</code></li>
                </ul>
                
                <!-- Типичные сценарии использования -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные сценарии использования</h3>
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                  <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li>Получение дополнительных данных, необходимых для основного запроса</li>
                    <li>Выполнение нескольких связанных запросов в рамках одного теста</li>
                    <li>Реализация OAuth 2.0 flows, которые требуют нескольких запросов</li>
                    <li>Загрузка зависимых ресурсов для проверки полноты ответа</li>
                    <li>Тестирование различных вариаций параметров для одного API-эндпоинта</li>
                  </ul>
                </div>
                
                <!-- Примеры кода -->
                <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                  <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Простой GET-запрос</summary>
                  <div class="p-4 bg-white border-t border-gray-200">
                    <pre class="relative rounded-lg">
  <code class="language-js">// Простой GET-запрос с URL
  pm.sendRequest("https://postman-echo.com/get?foo=bar", (err, res) => {
      if (err) {
          console.error("Ошибка запроса:", err);
      } else {
          console.log("Статус ответа:", res.code);
          console.log("Тело ответа:", res.json());
          
          // Сохранение результата в переменную
          pm.environment.set("echoResponse", res.json().args.foo);
      }
  });</code>
                    </pre>
                  </div>
                </details>
                
                <!-- Расширенный запрос с параметрами -->
                <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                  <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Запрос с полным набором параметров</summary>
                  <div class="p-4 bg-white border-t border-gray-200">
                    <pre class="relative rounded-lg">
  <code class="language-js">// Полный запрос с параметрами
  pm.sendRequest({
      url: "https://postman-echo.com/post",
      method: "POST",
      header: [
          { key: "Content-Type", value: "application/json" },
          { key: "x-custom-header", value: "custom-value" }
      ],
      body: {
          mode: "raw",
          raw: JSON.stringify({
              name: "Test User",
              email: "test@example.com",
              id: 12345
          })
      }
  }, (err, res) => {
      if (err) {
          console.error("Ошибка запроса:", err);
      } else {
          const responseData = res.json();
          console.log("Данные ответа:", responseData);
          
          // Проверка ответа
          pm.test("Дополнительный запрос успешен", () => {
              pm.expect(res.code).to.equal(200);
              pm.expect(responseData.data).to.have.property("name").eql("Test User");
          });
      }
  });</code>
                    </pre>
                  </div>
                </details>
                
                <!-- Последовательные запросы с зависимостями -->
                <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                  <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Последовательное выполнение нескольких запросов</summary>
                  <div class="p-4 bg-white border-t border-gray-200">
                    <pre class="relative rounded-lg">
  <code class="language-js">// Пример последовательных запросов (вложенные callbacks)
  // Первый запрос: получение списка пользователей
  pm.sendRequest("https://api.example.com/users", (err, res) => {
      if (err) return console.error("Ошибка получения пользователей:", err);
      
      const users = res.json();
      if (!users || !users.length) return console.log("Пользователи не найдены");
      
      // Получаем ID первого пользователя
      const userId = users[0].id;
      console.log(`Получен ID пользователя: ${userId}`);
      
      // Второй запрос: получение заказов пользователя
      pm.sendRequest(`https://api.example.com/users/${userId}/orders`, (err, ordersRes) => {
        if (err) return console.error("Ошибка получения заказов:", err);
        
        const orders = ordersRes.json();
        console.log(`Найдено ${orders.length} заказов`);
        
        // Если есть заказы, получаем детали первого
        if (orders.length > 0) {
            const orderId = orders[0].id;
            
            // Третий запрос: получение деталей заказа
            pm.sendRequest(`https://api.example.com/orders/${orderId}`, (err, orderDetailsRes) => {
                if (err) return console.error("Ошибка получения деталей заказа:", err);
                
                const orderDetails = orderDetailsRes.json();
                console.log("Детали заказа:", orderDetails);
                
                // Сохраняем данные для использования в других запросах
                pm.environment.set("lastOrderId", orderId);
                pm.environment.set("lastOrderDetails", JSON.stringify(orderDetails));
            });
        }
    });
});</code>
                  </pre>
                </div>
              </details>
              
              <!-- Решение проблемы Callback Hell -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Использование async/await с Promise (рекомендуемый подход)</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// Вспомогательная функция для преобразования pm.sendRequest в Promise
function sendRequest(requestParams) {
    return new Promise((resolve, reject) => {
        pm.sendRequest(requestParams, (err, res) => {
            if (err) {
                reject(err);
            } else {
                resolve(res);
            }
        });
    });
}

// Использование async/await для последовательных запросов
(async function() {
    try {
        // Первый запрос: получение списка пользователей
        const usersResponse = await sendRequest("https://api.example.com/users");
        const users = usersResponse.json();
        
        if (!users || !users.length) {
            console.log("Пользователи не найдены");
            return;
        }
        
        // Получаем ID первого пользователя
        const userId = users[0].id;
        console.log(`Получен ID пользователя: ${userId}`);
        
        // Второй запрос: получение заказов пользователя
        const ordersResponse = await sendRequest(`https://api.example.com/users/${userId}/orders`);
        const orders = ordersResponse.json();
        console.log(`Найдено ${orders.length} заказов`);
        
        // Если есть заказы, получаем детали первого
        if (orders.length > 0) {
            const orderId = orders[0].id;
            
            // Третий запрос: получение деталей заказа
            const orderDetailsResponse = await sendRequest(`https://api.example.com/orders/${orderId}`);
            const orderDetails = orderDetailsResponse.json();
            console.log("Детали заказа:", orderDetails);
            
            // Сохраняем данные для использования в других запросах
            pm.environment.set("lastOrderId", orderId);
            pm.environment.set("lastOrderDetails", JSON.stringify(orderDetails));
        }
    } catch (error) {
        console.error("Ошибка выполнения запросов:", error);
    }
})();</code>
                  </pre>
                </div>
              </details>
              
              <!-- Советы и лучшие практики -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Советы и рекомендации</h3>
              <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Используйте Promise-обертки вместо вложенных callbacks для улучшения читаемости кода</li>
                  <li>Обрабатывайте ошибки в каждом запросе для надежной работы скриптов</li>
                  <li>При выполнении нескольких запросов добавляйте логирование для отладки</li>
                  <li>Учитывайте порядок выполнения запросов — pm.sendRequest асинхронный</li>
                  <li>По возможности переиспользуйте заголовки, URL и другие параметры из основного запроса</li>
                </ul>
              </div>
              
              <!-- Типичные ошибки -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные ошибки</h3>
              <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Забывать об асинхронной природе pm.sendRequest, ожидая немедленного результата</li>
                  <li>Создавать глубоко вложенные callbacks, что затрудняет поддержку кода</li>
                  <li>Не обрабатывать ошибки в callbacks, что приводит к неожиданным сбоям скриптов</li>
                  <li>Отправлять слишком много запросов, что замедляет выполнение тестов</li>
                  <li>Не учитывать кросс-доменные ограничения и CORS при отправке запросов к сторонним API</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- Секция 11 - pm.test -->
        <section id="section11" class="mb-10 pt-8 -mt-8">
          <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
            <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
              <h2 class="text-xl font-semibold text-gray-800">11. pm.test</h2>
            </div>
            <div class="p-6">
              <div class="flex flex-wrap gap-2 mb-4">
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Тесты</span>
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Проверки</span>
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Assertions</span>
              </div>
              
              <!-- Расширенное описание -->
              <p class="text-gray-600 mb-4">
                Функция <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.test</code> — ключевой инструмент для создания автоматизированных тестов в Postman. Она позволяет определить и выполнить тестовые сценарии, проверяющие различные аспекты HTTP-запросов и ответов. Тесты отображаются в интерфейсе Postman и могут быть включены в отчеты и документацию.
              </p>
              
              <!-- Формат и параметры -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Формат и параметры</h3>
              <p class="text-gray-600 mb-4">
                Основной формат функции:
              </p>
              <pre class="bg-gray-100 text-postman-dark p-2 rounded text-sm mb-4"><code>pm.test(testName, testFunction, [options]);</code></pre>
              <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">testName</code> — название теста (строка), которое отображается в Postman</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">testFunction</code> — функция с тестовой логикой, обычно содержит assert выражения</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">options</code> — (опционально) объект с дополнительными параметрами теста</li>
              </ul>
              
              <!-- Типичные сценарии использования -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные сценарии использования</h3>
              <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Проверка статус-кодов HTTP-ответов</li>
                  <li>Валидация структуры и содержимого JSON-ответов</li>
                  <li>Проверка наличия и значений заголовков ответа</li>
                  <li>Тестирование времени ответа и производительности</li>
                  <li>Проверка бизнес-логики API и корректности данных</li>
                  <li>Создание интеграционных тестов с несколькими запросами</li>
                </ul>
              </div>
              
              <!-- Примеры кода -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Базовые тесты статус-кода и заголовков</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// Проверка статус-кода
pm.test("Статус-код ответа 200", () => {
    pm.response.to.have.status(200);
});

// Альтернативный способ проверки статус-кода
pm.test("Успешный ответ", () => {
    pm.expect(pm.response.code).to.be.oneOf([200, 201, 202]);
});

// Проверка заголовка Content-Type
pm.test("Тип содержимого - JSON", () => {
    pm.response.to.have.header("Content-Type");
    pm.expect(pm.response.headers.get("Content-Type")).to.include("application/json");
});

// Проверка времени ответа
pm.test("Время ответа менее 200мс", () => {
    pm.expect(pm.response.responseTime).to.be.below(200);
});</code>
                  </pre>
                </div>
              </details>
              
              <!-- Тестирование JSON-ответов -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Тестирование JSON-структуры и данных</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// Разбор JSON-ответа
const responseJson = pm.response.json();

// Проверка структуры ответа
pm.test("Корректная структура ответа", () => {
    // Проверка наличия полей
    pm.expect(responseJson).to.have.property("id");
    pm.expect(responseJson).to.have.property("name");
    pm.expect(responseJson).to.have.property("created");
    
    // Вложенные объекты
    pm.expect(responseJson).to.have.property("user");
    pm.expect(responseJson.user).to.have.property("id");
    pm.expect(responseJson.user).to.have.property("email");
    
    // Проверка массивов
    pm.expect(responseJson).to.have.property("items");
    pm.expect(responseJson.items).to.be.an("array").that.is.not.empty;
    
    // Проверка конкретного элемента массива
    if (responseJson.items.length > 0) {
        pm.expect(responseJson.items[0]).to.have.property("price");
    }
});

// Проверка конкретных значений
pm.test("Корректные значения данных", () => {
    pm.expect(responseJson.id).to.be.a("number");
    pm.expect(responseJson.name).to.be.a("string").and.not.empty;
    
    // Проверка даты
    const createdDate = new Date(responseJson.created);
    pm.expect(createdDate.getTime()).to.be.at.most(new Date().getTime());
    
    // Проверка суммы
    let total = 0;
    responseJson.items.forEach(item => {
        total += item.price * item.quantity;
    });
    pm.expect(responseJson.total).to.equal(total);
});</code>
                  </pre>
                </div>
              </details>
              
              <!-- Усложненные и схемные проверки -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Валидация по схеме и сложные проверки</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// Определение схемы для валидации JSON
const userSchema = {
    type: "object",
    required: ["id", "name", "email", "roles"],
    properties: {
        id: { type: "integer" },
        name: { type: "string", minLength: 3 },
        email: { type: "string", format: "email" },
        created: { type: "string", format: "date-time" },
        roles: { 
            type: "array", 
            items: { type: "string" },
            minItems: 1
        }
    }
};

// Проверка по схеме
pm.test("Ответ соответствует схеме", () => {
    pm.response.to.have.jsonSchema(userSchema);
});

// Использование регулярных выражений
pm.test("Email в корректном формате", () => {
    const user = pm.response.json();
    const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
    pm.expect(user.email).to.match(emailRegex);
});

// Условные тесты в зависимости от статус-кода
pm.test("Правильное тело ответа в зависимости от статуса", () => {
    if (pm.response.code === 200) {
        const data = pm.response.json();
        pm.expect(data.success).to.be.true;
        pm.expect(data.message).to.equal("Resource found");
    } else if (pm.response.code === 404) {
        const data = pm.response.json();
        pm.expect(data.success).to.be.false;
        pm.expect(data.message).to.equal("Resource not found");
    }
});</code>
                  </pre>
                </div>
              </details>
              
              <!-- Советы и лучшие практики -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Советы и рекомендации</h3>
              <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Давайте тестам ясные, информативные названия, которые описывают ожидаемый результат</li>
                  <li>Группируйте связанные проверки в один тест, но не делайте тесты слишком сложными</li>
                  <li>Используйте короткие комментарии для пояснения сложной логики проверок</li>
                  <li>Сохраняйте данные из тестов в переменные окружения для использования в последующих запросах</li>
                  <li>Используйте схемы JSON для проверки структуры сложных ответов</li>
                  <li>Проверяйте сначала общие аспекты (статус, заголовки), затем детали (данные)</li>
                </ul>
              </div>
              
              <!-- Типичные ошибки -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные ошибки</h3>
              <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Слишком много проверок в одном тесте, что затрудняет отладку при ошибках</li>
                  <li>Неправильная обработка ошибок при работе с JSON (не проверяя сначала наличие свойств)</li>
                  <li>Жестко закодированные значения, которые могут меняться между окружениями</li>
                  <li>Написание проверок, которые зависят от конкретных примеров данных, а не общих шаблонов</li>
                  <li>Создание тестов без учета возможных граничных случаев или ошибок сервера</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- Секция 12 - pm.expect -->
        <section id="section12" class="mb-10 pt-8 -mt-8">
          <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
            <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
              <h2 class="text-xl font-semibold text-gray-800">12. pm.expect</h2>
            </div>
            <div class="p-6">
              <div class="flex flex-wrap gap-2 mb-4">
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Утверждения</span>
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Chai.js</span>
                <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Проверки</span>
              </div>
              
              <!-- Расширенное описание -->
              <p class="text-gray-600 mb-4">
                Функция <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.expect</code> — основной метод для создания утверждений (assertions) в тестах Postman. Он реализует BDD-стиль тестирования и использует библиотеку Chai.js для удобочитаемых, выразительных проверок. Обычно pm.expect используется внутри функций pm.test для проверки конкретных условий.
              </p>
              
              <!-- Основная структура -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Основная структура и цепочки</h3>
              <p class="text-gray-600 mb-4">
                pm.expect использует цепочки вызовов методов для создания читаемых утверждений:
              </p>
              <pre class="bg-gray-100 text-postman-dark p-2 rounded text-sm mb-4"><code>pm.expect(actual).to.[matcher](expected)</code></pre>
              <p class="text-gray-600 mb-4">
                Где <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">matcher</code> — это метод сравнения, такой как equal, include, be, have и т.д.
              </p>
              
              <!-- Популярные матчеры -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Популярные матчеры и комбинации</h3>
              <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">to.equal(value)</code> — точное сравнение значений</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">to.eql(value)</code> — глубокое сравнение объектов</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">to.have.property(name, [value])</code> — проверка наличия и значения свойства</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">to.include(value)</code> — проверка включения подстроки или элемента</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">to.be.oneOf([values])</code> — проверка, что значение входит в массив</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">to.be.a(type)</code> или <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">to.be.an(type)</code> — проверка типа</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">to.be.true</code> / <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">to.be.false</code> — проверка логических значений</li>
                <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">to.be.null</code> / <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">to.not.be.null</code> — проверка на null</li>
              </ul>
              
              <!-- Типичные сценарии использования -->
              <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные сценарии использования</h3>
              <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                  <li>Проверка значений в ответе API на равенство ожидаемым</li>
                  <li>Валидация типов данных и структуры объектов</li>
                  <li>Проверка наличия и значений свойств объектов</li>
                  <li>Проверка элементов массивов и их свойств</li>
                  <li>Сложные условные проверки с цепочками и комбинациями матчеров</li>
                </ul>
              </div>
              
              <!-- Примеры кода -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Базовые проверки значений</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// Базовые проверки равенства
pm.test("Базовые проверки", () => {
    // Строгое равенство
    pm.expect(42).to.equal(42);
    
    // Сравнение строк
    pm.expect("Postman").to.equal("Postman");
    
    // Проверка булевых значений
    pm.expect(true).to.be.true;
    pm.expect(false).to.be.false;
    
    // Проверка с отрицанием
    pm.expect(123).to.not.equal(456);
    
    // Сравнение чисел с допуском
    pm.expect(3.14159).to.be.closeTo(3.14, 0.01);
    
    // Диапазоны
    pm.expect(5).to.be.within(1, 10);
    pm.expect(20).to.be.above(10);
    pm.expect(5).to.be.below(10);
    
    // Проверка на пустоту
    pm.expect([]).to.be.empty;
    pm.expect("").to.be.empty;
});</code>
                  </pre>
                </div>
              </details>
              
              <!-- Проверка объектов и массивов -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Работа с объектами и массивами</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// Проверки для объектов и массивов
pm.test("Проверки объектов и массивов", () => {
    const data = pm.response.json();
    
    // Проверка типа
    pm.expect(data).to.be.an("object");
    pm.expect(data.items).to.be.an("array");
    
    // Проверка свойств
    pm.expect(data).to.have.property("id");
    pm.expect(data).to.have.property("name", "Product A"); // С проверкой значения
    
    // Проверка вложенных свойств
    pm.expect(data).to.have.nested.property("meta.version", "1.0.0");
    
    // Проверка массивов
    pm.expect(data.tags).to.include("electronics");
    pm.expect(data.tags).to.have.members(["electronics", "sale"]);
    
    // Проверка длины массива
    pm.expect(data.items).to.have.lengthOf(3);
    
    // Проверка каждого элемента массива
    data.items.forEach(item => {
        pm.expect(item).to.have.property("price");
        pm.expect(item.price).to.be.a("number").and.be.above(0);
    });
    
    // Глубокое сравнение объектов (все свойства должны быть равны)
    const expectedObject = { id: 1, name: "Test" };
    pm.expect(data.category).to.eql(expectedObject);
});</code>
                  </pre>
                </div>
              </details>
              
              <!-- Продвинутые и комбинированные проверки -->
              <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
                <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Продвинутые и комбинированные проверки</summary>
                <div class="p-4 bg-white border-t border-gray-200">
                  <pre class="relative rounded-lg">
<code class="language-js">// Продвинутые проверки с цепочками методов
pm.test("Сложные проверки", () => {
    const data = pm.response.json();
    
    // Комбинирование проверок с .and
    pm.expect(data.status).to.equal("active").and.to..be.a("string")
    .and.to.equal("success");

// Проверка с условием "или" - oneOf
pm.expect(data.code).to.be.oneOf([200, 201, 202]);

// Проверка с регулярным выражением
pm.expect(data.id).to.match(/^[A-Z]{2}\d{6}$/);

// Проверка с функцией обратного вызова
pm.expect(data.items).to.satisfy((items) => {
    return items.every(item => item.price > 0 && item.quantity > 0);
});

// Проверка вложенного массива с .all
pm.expect(data.items).to.all.have.property("sku");

// Проверка с респондентом объекта (respondTo)
pm.expect(data).to.respondTo("toString");

// Проверка подстроки в строке
pm.expect(data.description).to.include("product");

// Проверка начала и конца строки
pm.expect(data.code).to.match(/^PRD/);
pm.expect(data.code).to.match(/\d{4}$/);

// Проверка исключений (если выполнение кода должно вызвать ошибку)
pm.expect(() => {
    JSON.parse("{invalid json}");
}).to.throw();

// Проверка с .any - любой элемент массива должен удовлетворять условию
pm.expect(data.permissions).to.have.any.keys("read", "write", "admin");
});</code>
              </pre>
            </div>
          </details>
          
          <!-- Проверка HTTP-ответов -->
          <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
            <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Проверка HTTP-ответов и специальные матчеры</summary>
            <div class="p-4 bg-white border-t border-gray-200">
              <pre class="relative rounded-lg">
<code class="language-js">// Специальные проверки для HTTP-ответов
pm.test("Проверки HTTP-ответов", () => {
// Проверка статус-кода
pm.expect(pm.response.code).to.equal(200);

// Альтернативные способы проверки статуса
pm.response.to.have.status(200);
pm.expect(pm.response.status).to.equal("OK");

// Проверка заголовков
pm.expect(pm.response.headers.get("Content-Type"))
    .to.include("application/json");

// Проверка Cookie
pm.expect(pm.cookies.has("sessionId")).to.be.true;
pm.expect(pm.cookies.get("sessionId")).to.match(/^[a-z0-9]{32}$/);

// Проверка времени ответа
pm.expect(pm.response.responseTime).to.be.below(500);

// Проверка размера ответа
pm.expect(pm.response.size().body).to.be.below(10240); // Меньше 10KB

// Проверка на JSON API (соответствие спецификации JSON:API)
const jsonData = pm.response.json();
pm.expect(jsonData).to.have.property("data");
if (jsonData.errors) {
    pm.expect(jsonData.errors).to.be.an("array");
    jsonData.errors.forEach(error => {
        pm.expect(error).to.have.property("status");
        pm.expect(error).to.have.property("title");
    });
}
});</code>
              </pre>
            </div>
          </details>
          
          <!-- Советы и лучшие практики -->
          <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Советы и рекомендации</h3>
          <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
            <ul class="list-disc list-inside space-y-1 text-gray-600">
              <li>Используйте точные матчеры для конкретных проверок — <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">equal</code> для точного сравнения, <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">eql</code> для глубокого сравнения объектов</li>
              <li>Комбинируйте матчеры с <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">.and</code> для создания более сложных условий</li>
              <li>Для проверки типа и значения используйте цепочку <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">to.be.a("type").and.equal(value)</code></li>
              <li>При проверке вложенных свойств сначала проверяйте наличие родительских свойств</li>
              <li>Используйте выразительные матчеры, которые делают код самодокументируемым</li>
              <li>Организуйте проверки от простых к сложным для облегчения отладки</li>
            </ul>
          </div>
          
          <!-- Типичные ошибки -->
          <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные ошибки</h3>
          <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4">
            <ul class="list-disc list-inside space-y-1 text-gray-600">
              <li>Использование <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">equal</code> вместо <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">eql</code> при сравнении объектов (равенство по ссылке vs. по содержимому)</li>
              <li>Пропуск проверки наличия свойства перед проверкой его значения</li>
              <li>Слишком общие проверки, которые не выявляют реальные проблемы</li>
              <li>Неиспользование оператора <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">not</code> для инвертирования условий</li>
              <li>Забывание о том, что значения в переменных окружения всегда хранятся как строки</li>
              <li>Отсутствие обработки краевых случаев (null, undefined, пустые массивы)</li>
            </ul>
          </div>
        </div>
      </div>
    </section>
    <!-- Секция 13 - pm.info -->
    <section id="section13" class="mb-10 pt-8 -mt-8">
        <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
          <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
            <h2 class="text-xl font-semibold text-gray-800">13. pm.info</h2>
          </div>
          <div class="p-6">
            <div class="flex flex-wrap gap-2 mb-4">
              <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Метаданные</span>
              <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Информация</span>
              <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Запрос</span>
            </div>
            
            <!-- Расширенное описание -->
            <p class="text-gray-600 mb-4">
              Объект <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.info</code> предоставляет доступ к метаданным о текущем запросе, коллекции и выполнении. Это позволяет получить контекстную информацию для скриптов, которая может быть полезна при автоматизации тестирования или документировании результатов.
            </p>
            
            <!-- Доступные свойства -->
            <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Основные свойства</h3>
            <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
              <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.info.requestName</code> — название текущего запроса</li>
              <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.info.requestId</code> — уникальный идентификатор запроса</li>
              <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.info.iteration</code> — номер текущей итерации в Collection Runner (начиная с 0)</li>
              <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.info.iterationCount</code> — общее количество итераций</li>
              <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.info.eventName</code> — имя текущего события ('prerequest' или 'test')</li>
              <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.info.collectionName</code> — название текущей коллекции</li>
            </ul>
            
            <!-- Типичные сценарии использования -->
            <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные сценарии использования</h3>
            <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
              <ul class="list-disc list-inside space-y-1 text-gray-600">
                <li>Логирование информации о текущем выполнении для отладки</li>
                <li>Условное выполнение кода в зависимости от имени запроса или коллекции</li>
                <li>Отслеживание итераций при выполнении коллекции через Collection Runner</li>
                <li>Создание динамических имен файлов при экспорте результатов</li>
                <li>Определение контекста выполнения скрипта (Pre-request или Tests)</li>
              </ul>
            </div>
            
            <!-- Примеры кода -->
            <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
              <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Базовое использование</summary>
              <div class="p-4 bg-white border-t border-gray-200">
                <pre class="relative rounded-lg">
<code class="language-js">// Вывод основной информации о запросе
console.log("Имя запроса:", pm.info.requestName);
console.log("ID запроса:", pm.info.requestId);
console.log("Имя коллекции:", pm.info.collectionName);
console.log("Текущее событие:", pm.info.eventName);

// Информация о выполнении итераций (при использовании Collection Runner)
console.log(`Итерация ${pm.info.iteration + 1} из ${pm.info.iterationCount}`);

// Вывод контекста пространства имен pm.variables
console.log("Текущая область видимости переменных:", pm.info.variableScopeContext);
</code>
                </pre>
              </div>
            </details>
            
            <!-- Условное выполнение скриптов -->
            <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
              <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Условное выполнение скриптов</summary>
              <div class="p-4 bg-white border-t border-gray-200">
                <pre class="relative rounded-lg">
<code class="language-js">// Выполнение кода в зависимости от имени запроса
if (pm.info.requestName === "Аутентификация") {
  console.log("Выполняется запрос аутентификации");
  // Специфический код для запроса аутентификации
} else if (pm.info.requestName === "Получение данных пользователя") {
  console.log("Выполняется запрос данных пользователя");
  // Специфический код для запроса данных пользователя
}

// Разные сценарии для Pre-request и Test скриптов
if (pm.info.eventName === "prerequest") {
  console.log("Подготовка данных перед запросом...");
  // Код для предварительной обработки
} else if (pm.info.eventName === "test") {
  console.log("Проверка результатов запроса...");
  // Код для тестирования
}

// Выполнение только на определенной итерации
if (pm.info.iteration === 0) {
  console.log("Первая итерация - инициализация");
  // Инициализация переменных или состояния
} else if (pm.info.iteration === pm.info.iterationCount - 1) {
  console.log("Последняя итерация - финализация");
  // Очистка ресурсов или итоговая проверка
}</code>
                </pre>
              </div>
            </details>
            
            <!-- Логирование и отладка -->
            <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
              <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Логирование и отладка</summary>
              <div class="p-4 bg-white border-t border-gray-200">
                <pre class="relative rounded-lg">
<code class="language-js">// Создание форматированного лога для отладки
function log(message) {
  const timestamp = new Date().toISOString();
  const context = `[${pm.info.collectionName}][${pm.info.requestName}][${pm.info.eventName}]`;
  console.log(`${timestamp} ${context} ${message}`);
}

// Использование функции логирования
log("Начало выполнения скрипта");

// Для Pre-request скрипта
if (pm.info.eventName === "prerequest") {
  log("Подготовка данных...");
  const authToken = pm.environment.get("authToken");
  if (authToken) {
      log(`Используется токен: ${authToken.substring(0, 5)}...`);
  } else {
      log("Токен не найден!");
  }
}

// Для Test скрипта
if (pm.info.eventName === "test") {
  log(`Получен ответ со статусом: ${pm.response.code}`);
  
  if (pm.response.code === 200) {
      log("Запрос успешен, анализ данных...");
      try {
          const data = pm.response.json();
          log(`Получено ${Object.keys(data).length} полей`);
      } catch (e) {
          log(`Ошибка парсинга JSON: ${e.message}`);
      }
  } else {
      log("Запрос завершился с ошибкой");
  }
}

log("Скрипт завершен");</code>
                </pre>
              </div>
            </details>
            
            <!-- Советы и лучшие практики -->
            <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Советы и рекомендации</h3>
            <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
              <ul class="list-disc list-inside space-y-1 text-gray-600">
                <li>Используйте pm.info для создания структурированных логов при отладке коллекций</li>
                <li>Включайте информацию о запросе в сообщения об ошибках для облегчения поиска проблем</li>
                <li>При написании общих скриптов для разных запросов используйте pm.info для адаптации поведения</li>
                <li>При экспорте данных добавляйте метаинформацию из pm.info для лучшей организации результатов</li>
              </ul>
            </div>
            
            <!-- Типичные ошибки -->
            <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные ошибки</h3>
            <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4">
              <ul class="list-disc list-inside space-y-1 text-gray-600">
                <li>Использование pm.info.iteration без проверки, запущен ли скрипт в Collection Runner</li>
                <li>Зависимость от точного имени запроса, которое может измениться при редактировании коллекции</li>
                <li>Использование pm.info без учета контекста выполнения (pre-request или test)</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- Секция 14 - pm.iterationData -->
      <section id="section14" class="mb-10 pt-8 -mt-8">
        <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
          <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
            <h2 class="text-xl font-semibold text-gray-800">14. pm.iterationData</h2>
          </div>
          <div class="p-6">
            <div class="flex flex-wrap gap-2 mb-4">
              <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Данные</span>
              <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">CSV/JSON</span>
              <span class="bg-postman-light text-postman-orange text-xs font-medium px-2.5 py-1 rounded">Runner</span>
            </div>
            
            <!-- Расширенное описание -->
            <p class="text-gray-600 mb-4">
              Объект <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.iterationData</code> предоставляет доступ к данным текущей итерации при выполнении коллекции с использованием Collection Runner и внешних файлов данных (CSV или JSON). Эта функциональность позволяет проводить параметризированное тестирование API, выполняя одни и те же запросы с разными входными данными.
            </p>
            
            <!-- Доступные методы -->
            <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Основные методы</h3>
            <ul class="list-disc list-inside space-y-1 text-gray-600 mb-4 pl-2">
              <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.iterationData.get(key)</code> — получение значения по ключу для текущей итерации</li>
              <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.iterationData.toObject()</code> — получение всех данных итерации в виде объекта</li>
              <li><code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.iterationData.has(key)</code> — проверка существования ключа в данных итерации</li>
            </ul>
            
            <!-- Примечание о Collection Runner -->
            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4">
              <h3 class="font-semibold text-gray-700 mb-2">Важное примечание:</h3>
              <p class="text-gray-600">
                <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.iterationData</code> доступен только при запуске коллекции через Collection Runner с подключенным файлом данных. Если вы запускаете одиночный запрос или коллекцию без файла данных, этот объект будет пустым или недоступным.
              </p>
            </div>
            
            <!-- Типичные сценарии использования -->
            <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные сценарии использования</h3>
            <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
              <ul class="list-disc list-inside space-y-1 text-gray-600">
                <li>Тестирование API с разными наборами входных данных</li>
                <li>Выполнение запросов для списка пользователей или идентификаторов</li>
                <li>Проверка граничных случаев с заранее подготовленными данными</li>
                <li>Нагрузочное тестирование с различными параметрами</li>
                <li>Массовое создание или обновление ресурсов на основе данных из файла</li>
              </ul>
            </div>
            
            <!-- Примеры кода -->
            <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
              <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Базовое использование</summary>
              <div class="p-4 bg-white border-t border-gray-200">
                <pre class="relative rounded-lg">
<code class="language-js">// Получение данных из файла для текущей итерации
// Предположим, что CSV файл содержит колонки: username, password, expectedStatus

// Получение значений отдельных полей
const username = pm.iterationData.get("username");
const password = pm.iterationData.get("password");
const expectedStatus = pm.iterationData.get("expectedStatus");

console.log(`Тестирование с данными: username=${username}, password=${password}`);
console.log(`Ожидаемый статус: ${expectedStatus}`);

// Сохранение данных в переменные для использования в запросе
pm.variables.set("username", username);
pm.variables.set("password", password);

// Для Pre-request скрипта - подготовка данных запроса
if (pm.info.eventName === "prerequest") {
  // Формирование тела запроса на основе данных итерации
  const requestBody = {
      username: username,
      password: password,
      remember: pm.iterationData.get("rememberMe") === "true"
  };
  
  // Сохранение тела запроса в переменную
  pm.variables.set("requestBody", JSON.stringify(requestBody));
}

// Для Test скрипта - проверка результатов
if (pm.info.eventName === "test") {
  // Проверка соответствия статус-кода ожидаемому
  pm.test(`Статус-код должен быть ${expectedStatus}`, () => {
      pm.response.to.have.status(parseInt(expectedStatus, 10));
  });
}</code>
                </pre>
              </div>
            </details>
            
            <!-- Работа со всеми данными итерации -->
            <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
              <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Работа со всеми данными итерации</summary>
              <div class="p-4 bg-white border-t border-gray-200">
                <pre class="relative rounded-lg">
<code class="language-js">// Получение всех данных итерации в виде объекта
const iterationData = pm.iterationData.toObject();
console.log("Данные текущей итерации:", iterationData);

// Проверка наличия всех необходимых полей
const requiredFields = ["userId", "firstName", "lastName", "email"];
const missingFields = [];

requiredFields.forEach(field => {
  if (!pm.iterationData.has(field)) {
      missingFields.push(field);
  }
});

if (missingFields.length > 0) {
  console.error(`Отсутствуют обязательные поля: ${missingFields.join(", ")}`);
} else {
  console.log("Все обязательные поля присутствуют");
}

// Динамическое формирование URL на основе данных итерации
if (pm.iterationData.has("userId")) {
  const userId = pm.iterationData.get("userId");
  const apiVersion = pm.iterationData.get("apiVersion") || "v1";
  const endpoint = pm.iterationData.get("endpoint") || "users";
  
  const url = `https://api.example.com/${apiVersion}/${endpoint}/${userId}`;
  console.log(`Сформированный URL: ${url}`);
  pm.variables.set("dynamicUrl", url);
}</code>
                </pre>
              </div>
            </details>
            
            <!-- Пример файла данных -->
            <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Пример файла данных для Collection Runner</h3>
            <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
              <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Пример CSV-файла</summary>
              <div class="p-4 bg-white border-t border-gray-200">
                <pre class="relative rounded-lg">
<code class="language-text">userId,firstName,lastName,email,expectedStatusCode
1,John,Doe,john.doe@example.com,200
2,Jane,Smith,jane.smith@example.com,200
3,Invalid,User,,400
4,Deleted,Account,deleted@example.com,404</code>
                </pre>
              </div>
            </details>
            
            <details class="border border-gray-200 rounded-lg mb-4 bg-gray-50">
              <summary class="cursor-pointer p-4 font-medium bg-gray-50 hover:bg-gray-100 transition-colors">Пример JSON-файла</summary>
              <div class="p-4 bg-white border-t border-gray-200">
                <pre class="relative rounded-lg">
<code class="language-json">[
    {
      "userId": 1,
      "firstName": "John",
      "lastName": "Doe",
      "email": "john.doe@example.com",
      "expectedStatusCode": 200
    },
    {
      "userId": 2,
      "firstName": "Jane",
      "lastName": "Smith",
      "email": "jane.smith@example.com",
      "expectedStatusCode": 200
    },
    {
      "userId": 3,
      "firstName": "Invalid",
      "lastName": "User",
      "email": null,
      "expectedStatusCode": 400
    },
    {
      "userId": 4,
      "firstName": "Deleted",
      "lastName": "Account",
      "email": "deleted@example.com",
      "expectedStatusCode": 404
    }
  ]</code>
                    </pre>
                  </div>
                </details>
                
                <!-- Советы и лучшие практики -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Советы и рекомендации</h3>
                <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
                  <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li>Используйте осмысленные имена колонок в CSV-файлах для лучшей читаемости кода</li>
                    <li>Для CSV-файлов с большим числом колонок сначала выводите все данные через <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">console.log(pm.iterationData.toObject())</code> для отладки</li>
                    <li>Включайте в файл данных не только входные параметры, но и ожидаемые результаты для автоматической проверки</li>
                    <li>Проверяйте наличие данных с помощью <code class="bg-gray-100 text-postman-dark px-1 py-0.5 rounded text-sm font-mono">pm.iterationData.has()</code> перед их использованием</li>
                    <li>Для сложных сценариев используйте JSON-файлы вместо CSV, чтобы поддерживать вложенные структуры данных</li>
                  </ul>
                </div>
                
                <!-- Типичные ошибки -->
                <h3 class="font-semibold text-gray-700 text-base mb-2 mt-5">Типичные ошибки</h3>
                <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-4">
                  <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li>Использование pm.iterationData без запуска через Collection Runner с файлом данных</li>
                    <li>Отсутствие проверки наличия ожидаемых полей в данных итерации</li>
                    <li>Забывание о том, что все значения из CSV-файла изначально являются строками</li>
                    <li>Несоответствие заголовков колонок CSV и ключей, используемых в коде</li>
                    <li>Отсутствие обработки пустых или null-значений в файле данных</li>
                  </ul>
                </div>
              </div>
            </div>
          </section>
  
          <!-- Дополнительные ресурсы -->
          <section class="mb-10 pt-8 -mt-8">
            <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md">
              <div class="border-l-4 border-postman-orange px-6 py-4 bg-gradient-to-r from-postman-light to-white">
                <h2 class="text-xl font-semibold text-gray-800">Дополнительные ресурсы</h2>
              </div>
              <div class="p-6">
                <h3 class="font-semibold text-gray-700 text-base mb-4">Официальная документация</h3>
                <ul class="space-y-3 mb-6">
                  <li>
                    <a href="https://learning.postman.com/docs/writing-scripts/script-references/postman-javascript-objects/" class="flex items-start text-postman-orange hover:text-postman-dark transition-colors">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                      </svg>
                      <span>Документация по JavaScript-объектам Postman</span>
                    </a>
                  </li>
                  <li>
                    <a href="https://learning.postman.com/docs/sending-requests/intro-to-collections/" class="flex items-start text-postman-orange hover:text-postman-dark transition-colors">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                      </svg>
                      <span>Введение в коллекции Postman</span>
                    </a>
                  </li>
                  <li>
                    <a href="https://learning.postman.com/docs/writing-scripts/test-scripts/" class="flex items-start text-postman-orange hover:text-postman-dark transition-colors">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                      </svg>
                      <span>Написание тестовых скриптов в Postman</span>
                    </a>
                  </li>
                  <li>
                    <a href="https://learning.postman.com/docs/sending-requests/variables/" class="flex items-start text-postman-orange hover:text-postman-dark transition-colors">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4" />
                      </svg>
                      <span>Работа с переменными в Postman</span>
                    </a>
                  </li>
                  <li>
                    <a href="https://learning.postman.com/docs/running-collections/using-newman-cli/command-line-integration-with-newman/" class="flex items-start text-postman-orange hover:text-postman-dark transition-colors">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                      </svg>
                      <span>Использование Newman для запуска коллекций из командной строки</span>
                    </a>
                  </li>
                </ul>
                
                <h3 class="font-semibold text-gray-700 text-base mb-4">Полезные ресурсы для обучения</h3>
                <ul class="space-y-3 mb-6">
                  <li>
                    <a href="https://www.postman.com/postman/workspace/postman-answers" class="flex items-start text-postman-orange hover:text-postman-dark transition-colors">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z" />
                      </svg>
                      <span>Публичное рабочее пространство Postman с примерами коллекций</span>
                    </a>
                  </li>
                  <li>
                    <a href="https://github.com/DannyDainton/All-Things-Postman" class="flex items-start text-postman-orange hover:text-postman-dark transition-colors">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                      </svg>
                      <span>All Things Postman - Репозиторий с учебными материалами</span>
                    </a>
                  </li>
                  <li>
                    <a href="https://www.npmjs.com/package/ajv" class="flex items-start text-postman-orange hover:text-postman-dark transition-colors">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
                      </svg>
                      <span>AJV - Библиотека для валидации JSON Schema в Node.js</span>
                    </a>
                  </li>
                  <li>
                    <a href="https://www.chaijs.com/api/bdd/" class="flex items-start text-postman-orange hover:text-postman-dark transition-colors">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
                      </svg>
                      <span>Chai.js - Документация по BDD-стилю тестирования</span>
                    </a>
                  </li>
                  <li>
                    <a href="https://github.com/vdespa/introduction-to-postman-course" class="flex items-start text-postman-orange hover:text-postman-dark transition-colors">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                      </svg>
                      <span>Introduction to Postman Course - Бесплатный курс по Postman</span>
                    </a>
                  </li>
                </ul>
                
                <h3 class="font-semibold text-gray-700 text-base mb-4">Инструменты и расширения</h3>
                <ul class="space-y-3">
                  <li>
                    <a href="https://github.com/postmanlabs/newman" class="flex items-start text-postman-orange hover:text-postman-dark transition-colors">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z" />
                      </svg>
                      <span>Newman - Интерфейс командной строки для Postman</span>
                    </a>
                  </li>
                  <li>
                    <a href="https://github.com/postmanlabs/newman-reporter-html" class="flex items-start text-postman-orange hover:text-postman-dark transition-colors">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z" />
                      </svg>
                      <span>Newman HTML Reporter - Генератор HTML-отчетов для Newman</span>
                    </a>
                  </li>
                  <li>
                    <a href="https://github.com/postmanlabs/postman-code-generators" class="flex items-start text-postman-orange hover:text-postman-dark transition-colors">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                      </svg>
                      <span>Postman Code Generators - Генераторы кода запросов для разных языков</span>
                    </a>
                  </li>
                  <li>
                    <a href="https://github.com/postmanlabs/postman-runtime" class="flex items-start text-postman-orange hover:text-postman-dark transition-colors">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                      </svg>
                      <span>Postman Runtime - Среда выполнения коллекций Postman</span>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
  
    <script>
      // Минимальный JavaScript только для фичи копирования и навигации
      document.addEventListener("DOMContentLoaded", () => {
        // Плавный скролл для навигации
        document.querySelectorAll('#sidebar-nav a').forEach(link => {
          link.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Выделяем активный пункт
            document.querySelectorAll('#sidebar-nav a').forEach(item => {
              item.classList.remove('bg-postman-light', 'text-postman-orange', 'border-postman-orange');
              item.classList.add('border-transparent');
            });
            
            this.classList.add('bg-postman-light', 'text-postman-orange', 'border-postman-orange');
            this.classList.remove('border-transparent');
            
            // Скролл к секции
            const targetId = this.getAttribute('href');
            const targetSection = document.querySelector(targetId);
            
            if (targetSection) {
              window.scrollTo({
                top: targetSection.offsetTop - 100,
                behavior: 'smooth'
              });
            }
          });
        });
      });
    </script>
  </body>
  </html>